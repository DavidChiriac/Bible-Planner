<div [ngClass]="utils.isMobile() ? 'container-mobile' : 'container'">
    <div [ngClass]="utils.isMobile() ? 'plan-selector-mobile' : 'plan-selector'">
        @for (tab of tabs; track tab) {
            <p-button (click)="selectedTab.set(tab)" onkeydown="" class="plan-selector-button" [ngClass]="{'selected': selectedTab() === tab, 'mobile': utils.isMobile()}">{{ tab }}</p-button>
        }
    </div>
    <div class="details w-100">
        <div class="flex justify-content-center w-100">
            @if (utils.hasReadWholeBible()) {
                <p class="status positive">FelicitÄƒri! Ai citit Ã®ntreaga Biblie! ðŸŽ‰</p>
            } @else if (currentStatus() > 0) {
                <p class="status positive">EÈ™ti cu {{ currentStatus() }} zile citite Ã®nainte!</p>
            } @else if (currentStatus() < 0) {
                <p class="status negative">EÈ™ti cu {{ (currentStatus() * -1) }} zile citite Ã®n urmÄƒ!</p>
            } @else {
                <p class="status neutral">EÈ™ti la zi cu planul de citire!</p>
            }
        </div>
    </div>

    <div [ngClass]="utils.isMobile() ? 'card-mobile' : 'card'">
        <p-accordion [multiple]="true" [ngClass]="{'mobile': utils.isMobile()}">
            @for (tab of weeks(); track tab.week) {
                <p-accordion-panel [value]="tab.week">
                    <p-accordion-header (click)="addWeekToOpen(tab.week)" onkeydown="">
                        <div class="w-full flex justify-content-between pr-5 cursor-pointer">
                            @if (utils.isMobile()) {
                                <h4>{{ 'SÄƒpt. ' + tab.week + ' - ' }} <span class="font-italic">{{utils.countDaysReadInAWeek(tab) + '/' + tab.days.length + ' zile'}}</span></h4>
                            } @else {
                                <span>{{ 'SÄƒptÄƒmÃ¢na ' + tab.week + ' - ' }} <span class="font-italic">{{utils.countDaysReadInAWeek(tab) + '/' + tab.days.length + ' zile complete'}}</span></span>
                            }
                            <span class="w-6 text-right gray flex align-items-center justify-content-end">{{tab.label}}</span>
                        </div>
                    </p-accordion-header>
                    <p-accordion-content>
                        @if (openWeeks().includes(tab.week)) {
                            @for (day of tab.days; track day.label) {
                                <div class="flex gap-2 align-items-center mb-2 day cursor-pointer row" [ngClass]="{'read': utils.isEntireDayRead(day.chapters), 'day': !utils.isMobile() && !utils.isTablet()}" (click)="utils.setEntireDayRead(day.chapters)" onkeydown="">
                                    <p-checkbox [binary]="true" [ngModel]="utils.isEntireDayRead(day.chapters)"></p-checkbox>
                                    <h3 class="m-0">{{ day.label }}</h3>
                                </div>
                            }
                        }
                    </p-accordion-content>
                </p-accordion-panel>
            }
        </p-accordion>
    </div>
</div>
